- 第一次握手：建立连接时，客户端发送syn包(syn = j)到服务器，并进入SYN_SEND状态，等待服务器确认。

- 第二次握手：服务器收到syn包，必须确认客户的syn(syn = j+i),同时自己也发送一个syn包（syn = k),即SYN+ACK包，此时服务器进入SYN_RECV状态。

- 第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK（ack=k+1),此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。

---

客户端发送SYN连接请求报文，SYN=1,ACK = 0

服务端接受连接后，回复ACK报文和SYN报文，并为这次连接分配资源，SYN=1,ACK=1；

客户端接收到ACK报文后也像服务端发送ACK报文，并分配资源，这样TCP连接就建立了。ACK=1

---
>
- SYN：同步标志位, Synchronize
- ACK:确认标志位 Acknowledgment
- ack:确认序号



- 客户端将标志位SYN置为1，随机产生一个值seq=J;并将该数据包发送给服务器，客户端进入SYN_SEND状态，等待服务器确认

- 服务器收到数据包后由标志位SYN=1知道客户端请求连接，服务器将标志位SYN和ACK都置为1，ack=J+1;随机产生一个值seq=K;并将该数据包发送给客户端以确认连接请求，服务端进入SYN_RECV状态

- 客户端收到确认后，检查ack是否为J+1,标志位ACK是否为1，如果正确则将标志位ACK置为1，ack = K+1,并将数据包发送给服务器，服务器检查ack是否为K+1,ACK是否为1，如果正确则连接成功。两者都进入ESTABLISHED 状态。



>确认方的ack == 发起方seq+1

